CREATE DATABASE QLBHQA 
USE QLBHQA
GO


CREATE TABLE TAIKHOAN(
	TAIKHOAN VARCHAR(50),
	MATKHAU VARCHAR(50),
	CONSTRAINT PK_TAIKHOAN PRIMARY KEY (TAIKHOAN)
);

CREATE TABLE KHACHHANG 
(	MAKH NVARCHAR(10) NOT NULL,
	TENKH NVARCHAR(50) NOT NULL,
	DIACHI NVARCHAR(50) NOT NULL,
	SDT NVARCHAR(10) NOT NULL,
	CONSTRAINT PK_KHACHHANG PRIMARY KEY (MAKH)
);

CREATE TABLE HANG 
(	MAHANG NVARCHAR(10) NOT NULL,
	TENHANG NVARCHAR(100) NOT NULL,
	SOLUONG INT NOT NULL, 
	DONGIANHAP FLOAT(53) NOT NULL,
	DONGIABAN FLOAT(53) NOT NULL,
	GHICHU NVARCHAR(200) NOT NULL,
	CONSTRAINT PK_HANG PRIMARY KEY (MAHANG)
);

CREATE TABLE NHANVIEN 
(	MANV NVARCHAR(10) NOT NULL,
	TENNV NVARCHAR(100) NOT NULL,
	DIACHI NVARCHAR(100) NOT NULL,
	SDT NVARCHAR(10) NOT NULL,
	CONSTRAINT PK_NHANVIEN PRIMARY KEY (MANV)
);

CREATE TABLE HOADON
(	MAHD NVARCHAR(10) NOT NULL,
	MANV NVARCHAR(10) NOT NULL,
	NGAYBAN DATETIME NOT NULL,
	MAKH NVARCHAR(10) NOT NULL,
	TONGTIEN FLOAT(53) NOT NULL,
	CONSTRAINT PK_HOADON PRIMARY KEY (MAHD),
	CONSTRAINT FK_NHANVIEN_HOADON FOREIGN KEY (MANV) REFERENCES NHANVIEN(MANV),
	CONSTRAINT FK_KHACHHANG_HOADON FOREIGN KEY (MAKH) REFERENCES KHACHHANG(MAKH)
)

CREATE TABLE CHITIETHOADON
(	MAHD NVARCHAR(10) NOT NULL,
	MAHANG NVARCHAR(10) NOT NULL,
	SOLUONG INT NOT NULL, 
	DONGIA FLOAT(53) NOT NULL,
	THANHTIEN FLOAT(53) NOT NULL,
	CONSTRAINT FK_HOADON_CHITIETHOADON FOREIGN KEY (MAHD) REFERENCES HOADON(MAHD),
	CONSTRAINT FK_HANG_CHITIETHOADON FOREIGN KEY (MAHANG) REFERENCES HANG(MAHANG)
)


INSERT INTO TAIKHOAN (TAIKHOAN, MATKHAU)
VALUES
('NV001', 'nv001'),
('NV002', 'nv002'),
('NV003', 'nv003');

INSERT INTO KHACHHANG (MAKH, TENKH, DIACHI, SDT)
VALUES
('KH001', N'Nguyễn Văn A', N'Số 10, đường Nguyễn Văn Cừ, Thành phố Hồ Chí Minh', '0987654321'),
('KH002', N'Trần Thị B', N'Số 20, đường Lê Lợi, Thành phố Hà Nội', '0901234567'),
('KH003', N'Lê Quang C', N'Số 30, đường Đồng Khởi, Thành phố Đà Nẵng', '0912345678'),
('KH004', N'Đặng Thị D', N'Số 40, đường Lý Thường Kiệt, Thành phố Cần Thơ', '0923456789'),
('KH005', N'Phan Văn E', N'Số 50, đường Quang Trung, Thành phố Hải Phòng', '0934567890'),
('KH006', N'Hồ Thị F', N'Số 60, đường Hai Bà Trưng, Thành phố Vinh', '0945678901'),
('KH007', N'Nguyễn Thị G', N'Số 70, đường Nguyễn Thái Học, Thành phố Huế', '0956789012'),
('KH008', N'Trương Thị H', N'Số 80, đường Điện Biên Phủ, Thành phố Nha Trang', '0967890123'),
('KH009', N'Lê Thị I', N'Số 90, đường Hùng Vương, Thành phố Đà Lạt', '0978901234'),
('KH010', N'Nguyễn Thị J', N'Số 100, đường Trần Phú, Thành phố Quy Nhơn', '0989012345');

INSERT INTO NHANVIEN (MANV, TENNV, DIACHI, SDT)
VALUES
('NV001', N'Nguyễn Thị Hoa', N'Số 1, đường Trần Hưng Đạo, TP.HCM', '0901234567'),
('NV002', N'Lê Thị Lan', N'Số 3, đường Trần Phú, Đà Nẵng', '0912345678'),
('NV003', N'Nguyễn Thị Bích', N'Số 5, đường Hùng Vương, Nha Trang', '0956789012');

INSERT INTO HANG (MAHANG, TENHANG, SOLUONG, DONGIANHAP, DONGIABAN, GHICHU)
VALUES
('MH001', N'Áo Thun Nam Cotton', 100, 50000, 80000, N'Chất liệu cotton mềm mại, thấm hút mồ hôi tốt'),
('MH002', N'Quần Jean Nam', 80, 100000, 150000, N'Kiểu dáng slimfit, chất liệu denim bền đẹp'),
('MH003', N'Váy Liền Thân Nữ', 50, 120000, 200000, N'Thiết kế thanh lịch, phù hợp mọi hoàn cảnh'),
('MH004', N'Áo sơ mi Nam', 30, 250000, 400000, N'Cotton thoáng mát, mềm mại'),
('MH005', N'Đầm maxi Nữ', 20, 180000, 300000, N'Chất liệu cotton, nhiều màu sắc lựa chọn'),
('MH006', N'Quần Short Nam', 10, 80000, 120000, N'Chất liệu kaki thoáng mát, phù hợp mùa hè'),
('MH007', N'Áo Khoác Nữ', 12, 200000, 350000, N'Chất liệu gió chống nước, giữ ấm'),
('MH008', N'Quần Short Nam', 10, 80000, 120000, N'Chất liệu kaki thoáng mát, phù hợp mùa hè'),
('MH009', N'Quần tây nữ', 30, 120000, 200000, N'Quần tây nữ công sở, dáng suông, chất liệu mềm mại'),
('MH010', N'Áo khoác nữ', 15, 180000, 300000, N'Áo khoác nữ dáng dài, chất liệu dạ, giữ ấm tốt');

INSERT INTO HOADON (MAHD, MANV, NGAYBAN, MAKH, TONGTIEN)
VALUES
('HD001', 'NV001', '2023-12-06 10:00:00', 'KH001', 160000),
('HD002', 'NV002', '2023-12-06 10:30:00', 'KH002', 150000),
('HD003', 'NV003', '2023-12-06 11:00:00', 'KH003', 600000),
('HD004', 'NV001', '2023-12-06 11:30:00', 'KH004', 800000),
('HD005', 'NV002', '2023-12-06 12:00:00', 'KH005', 300000),
('HD006', 'NV003', '2023-12-06 12:30:00', 'KH006', 240000),
('HD007', 'NV001', '2023-12-06 13:00:00', 'KH007', 350000),
('HD008', 'NV002', '2023-12-06 13:30:00', 'KH008', 120000),
('HD009', 'NV003', '2023-12-06 14:00:00', 'KH009', 400000),
('HD010', 'NV001', '2023-12-06 14:30:00', 'KH010', 900000);

INSERT INTO CHITIETHOADON (MAHD, MAHANG, SOLUONG, DONGIA, THANHTIEN)
VALUES
('HD001', 'MH001', 2, 80000, 160000),
('HD002', 'MH002', 1, 150000, 150000),
('HD003', 'MH003', 3, 200000, 600000),
('HD004', 'MH004', 2, 400000, 800000),
('HD005', 'MH005', 1, 300000, 300000),
('HD006', 'MH006', 2, 120000, 240000),
('HD007', 'MH007', 1, 350000, 350000),
('HD008', 'MH008', 1, 120000, 120000),
('HD009', 'MH009', 2, 200000, 400000),
('HD010', 'MH010', 3, 300000, 900000);

SELECT *FROM TAIKHOAN;
SELECT *FROM NHANVIEN;
SELECT *FROM KHACHHANG;
SELECT *FROM HOADON;
SELECT *FROM HANG;
SELECT *FROM CHITIETHOADON;